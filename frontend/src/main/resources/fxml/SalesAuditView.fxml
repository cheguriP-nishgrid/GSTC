<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="org.nishgrid.clienterp.controller.SalesAuditController"
            stylesheets="@css/validation.css">
    <top>
        <VBox alignment="CENTER" spacing="5">
            <padding><Insets top="10" bottom="10"/></padding>
            <Label text="Sales Audit Management" style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
        </VBox>
    </top>

    <center>
        <VBox spacing="15">
            <padding><Insets top="10" right="20" bottom="20" left="20"/></padding>

            <GridPane hgap="15" vgap="10" alignment="CENTER">
                <Label text="Start Date:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <DatePicker fx:id="startDatePicker" GridPane.rowIndex="1" GridPane.columnIndex="0"/>

                <Label text="End Date:" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                <DatePicker fx:id="endDatePicker" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Button text="Apply Filter" onAction="#handleFilter"
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white;"
                        GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                <Button text="Download" onAction="#handleDownload"
                        style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                        GridPane.rowIndex="1" GridPane.columnIndex="3"/>
            </GridPane>

            <TableView fx:id="salesTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="idCol" text="ID" prefWidth="50"/>
                    <TableColumn fx:id="invoiceNoCol" text="Estimated No." prefWidth="150"/>
                    <TableColumn fx:id="invoiceDateCol" text="Estimated Date" prefWidth="120"/>
                    <TableColumn fx:id="customerNameCol" text="Customer Name" prefWidth="250"/>
                    <TableColumn fx:id="finalAmountCol" text="Final Amount (₹)" prefWidth="120"/>
                    <TableColumn fx:id="actionsCol" text="Actions" prefWidth="150"/>
                </columns>
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
            </TableView>

            <GridPane hgap="10" vgap="5" alignment="CENTER_RIGHT">

                <Text text="Total Old Gold Value:" style="-fx-font-weight: bold; -fx-text-fill: orange;" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <Label fx:id="totalOldGoldLabel"
                       style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: orange;"
                       text="₹ 0.00" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Text text="Total Sales (Net Items):" style="-fx-font-weight: bold;" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <Label fx:id="totalSalesAmountLabel"
                       style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: green;"
                       text="₹ 0.00" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Text text="Total Returned Amount:" style="-fx-font-weight: bold; -fx-text-fill: red;" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <Label fx:id="totalReturnedAmountLabel"
                       style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: red;"
                       text="₹ 0.00" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <Text text="Final Total for Period:" style="-fx-font-weight: bold;" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <Label fx:id="finalAmountLabel"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #0066cc;"
                       text="₹ 0.00" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <Text text="Total Due Amount:" style="-fx-font-weight: bold; -fx-text-fill: brown;" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                <Label fx:id="totalDueAmountLabel"
                       style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: brown;"
                       text="₹ 0.00" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

            </GridPane>
        </VBox>
    </center>
</BorderPane>